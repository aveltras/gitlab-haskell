{-# LANGUAGE OverloadedStrings #-}

module GitLab.API.Branches where

import Control.Monad.IO.Unlift
import qualified Data.Text as T

import GitLab.Types
import GitLab.WebRequests.GitLabWebCalls

branches :: (MonadIO m) => Project -> GitLab m [Branch]
branches project = branches' (project_id project)

branches' :: (MonadIO m) => Int -> GitLab m [Branch]
branches' projectId =
  gitlab addr
  where
    addr =
      "/projects/"
      <> T.pack (show projectId)
      <> "/repository"
      <> "/branches"

